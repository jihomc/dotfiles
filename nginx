# Nginx

# Configuration File
sudo vim /etc/nginx/nginx.conf

# sites-available for troubleshooting
sudo vim /etc/nginx/sites-available/default

# Starting, stopping, reloading
sudo systemctl [ start | restart | status ] nginx

# Serving static content

# mkdir /data/www and create index.html
# mkdir /data/images and save gif, jpg, png

server {
    location / {
        root /data/www;
    }

    location /images/ {
        root /data;
    }
}

# Simple proxy server

# Defined the proxied server, a simple server that listens on port 8080
# and maps all requests to the /data/up1 directory on the local file system
server {
    listen 8080;
    root /data/up1;

    location / {
    }
}

server {
    # First location block, put proxy_pass directive with protocol,
    # name, and port of proxied server specified in paramter
    location / {
        proxy_pass http://localhost:8080/;
    }

    location ~ \.(gif|jpg|png)$ {
        root /data/images;
    }
}
